<html><head><style>label,section{display:inline-block}.onoff,body{text-align:center}#swatch,.slidecontainer .general{stroke-width:1;box-shadow:.4px .4px .4px #000031,0 0 .4px #00004b}body{color:#fff;background-color:#2e4053}.lightStatus{margin-top:5px;color:#fff;font-size:14px;font-family:Verdana}section{margin:0;padding:0;width:160px}input[type=checkbox]{display:block;opacity:0}label{width:60px;height:30px;cursor:pointer;position:relative;background:#bdbdbd;border-radius:30px;transition:background-color .4s;-moz-transition:background-color .4s;-webkit-transition:background-color .4s}label:after{left:0;width:20px;height:20px;margin:5px;content:'';position:absolute;background:#fff;border-radius:10px}input:checked+label{background:#27ad5f}input:checked+label:after{left:auto;right:0}p{font:400 8px/40px Arial;color:#bdbdbd;display:none;text-transform:uppercase;letter-spacing:1px}.onoff,.title{font-family:sans-serif}input:checked~p:nth-of-type(1){color:#27ad5f;display:block}input:not(:checked)~p:nth-of-type(2){display:block}.wrapper svg{margin:48px auto}.wrap{min-height:10vh;max-width:720px;margin:0 auto;display:flex;flex-direction:row;align-items:center;justify-content:center}.wrap .half{width:50%;padding:32px 0;align-items:left;justify-content:left}#swatch{margin:auto;padding:10px;width:70%;height:60px;border-radius:20px;border:1px solid #fff}.title{line-height:24px;display:block;padding:8px 0}.onoff{margin:auto;line-height:50px;padding:10px;display:inline-block}.readout{margin-top:32px;font-family:monospace}.rval{color:red}.gval{color:#0f0}.bval{color:#00f}.slidecontainer{width:100%}.slidecontainer .general{-webkit-appearance:none;width:70%;height:29px;border-radius:100px;background:linear-gradient(to left,#fff 0,#000 100%);border:1px solid #fff;outline:0;opacity:.7;-webkit-transition:.2s;transition:opacity .2s}.slidecontainer .sliderg,.slidecontainer .sliderr{-webkit-transition:.2s;stroke-width:1;outline:0;opacity:.7}.slidecontainer .general::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;border:3px solid #fff;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;fill:none;cursor:pointer}.slidecontainer .general::-moz-range-thumb{width:20px;height:20px;border-radius:50%;border:3px solid #fff;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;fill:none;cursor:pointer}.slidecontainer .sliderr{-webkit-appearance:none;width:100%;height:29px;border-radius:100px;background:red;border:1px solid #fff;box-shadow:.4px .4px .4px #000031,0 0 .4px #00004b;transition:opacity .2s}.slidecontainer .sliderr::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;border:3px solid #fff;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;fill:none;cursor:pointer}.slidecontainer .sliderr::-moz-range-thumb{width:20px;height:20px;border-radius:50%;border:3px solid #fff;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;fill:none;cursor:pointer}.slidecontainer .sliderg{-webkit-appearance:none;width:100%;height:29px;border-radius:100px;background:#0f0;border:1px solid #fff;box-shadow:.4px .4px .4px #000031,0 0 .4px #00004b;transition:opacity .2s}.slidecontainer .sliderg::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;border:3px solid #fff;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;fill:none;cursor:pointer}.slidecontainer .sliderg::-moz-range-thumb{width:20px;height:20px;border-radius:50%;border:3px solid #fff;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;fill:none;cursor:pointer}.slidecontainer .sliderb{-webkit-appearance:none;width:100%;height:29px;border-radius:100px;stroke-width:1;background:#00f;border:1px solid #fff;box-shadow:.4px .4px .4px #000031,0 0 .4px #00004b;outline:0;opacity:.7;-webkit-transition:.2s;transition:opacity .2s}.slidecontainer .sliderb::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;border:3px solid #fff;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;fill:none;cursor:pointer}.slidecontainer .sliderb::-moz-range-thumb{width:20px;height:20px;border-radius:50%;border:3px solid #fff;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;fill:none;cursor:pointer}</style><script>!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.iro=e()}(this,function(){"use strict";function t(t,e){var r=t.match(/(\S+)\((\d+)(%?)(?:\D+?)(\d+)(%?)(?:\D+?)(\d+)(%?)(?:\D+?)?([0-9\.]+?)?\)/i),s=parseInt(r[2]),i=parseInt(r[4]),n=parseInt(r[6]);return[r[1],"%"==r[3]?s/100*e[0]:s,"%"==r[5]?i/100*e[1]:i,"%"==r[7]?n/100*e[2]:n,parseFloat(r[8])||void 0]}function e(t){return t instanceof v?t:new v(t)}function r(t,e,r){return t<=e?e:t>=r?r:t}function s(t,e){var r={};for(var s in t)r[s]=e[s]!=t[s];return r}function i(t,e,r,s){void 0===s&&(s={});for(var i=0;i<e.length;i++)t.addEventListener(e[i],r,s)}function n(t,e,r){for(var s=0;s<e.length;s++)t.removeEventListener(e[s],r)}var o=function(t,e){var r=t.g({class:"iro__marker"});r.circle(0,0,e.r,{class:"iro__marker__outer",fill:"none",strokeWidth:5,stroke:"#000"}),r.circle(0,0,e.r,{class:"iro__marker__inner",fill:"none",strokeWidth:2,stroke:"#fff"}),this.g=r};o.prototype.move=function(t,e){this.g.setTransform("translate",[t,e])};var a=Math.PI,h=Math.sqrt,c=Math.abs,l=Math.round,u=function(t,e){this._opts=e,this.type="wheel";var r=e.cY,s=e.cX,i=e.r,n=e.border,a=t.g({class:"iro__wheel"});a.circle(s,r,i+n.w/2,{class:"iro__wheel__border",fill:"#fff",stroke:n.color,strokeWidth:n.w});for(var h=a.g({class:"iro__wheel__hue",strokeWidth:i,fill:"none"}),c=0;c<360;c++)h.arc(s,r,i/2,c,c+1.5,{stroke:"hsl("+(e.anticlockwise?360-c:c)+",100%,50%)"});a.circle(s,r,i,{class:"iro__wheel__saturation"}).setGradient("fill",t.gradient("radial",{0:{color:"#fff"},100:{color:"#fff",opacity:0}})),this._lightness=a.circle(s,r,i,{class:"iro__wheel__lightness",opacity:0}),this.marker=new o(a,e.marker)};u.prototype.update=function(t,e){var r=this._opts,s=t.hsv;if(e.v&&r.lightness&&this._lightness.setAttrs({opacity:(1-s.v/100).toFixed(2)}),e.h||e.s){var i=(r.anticlockwise?360-s.h:s.h)*(a/180),n=s.s/100*r.rMax;this.marker.move(r.cX+n*Math.cos(i),r.cY+n*Math.sin(i))}},u.prototype.input=function(t,e){var r=this._opts,s=r.rMax,i=r.cX-t,n=r.cY-e,o=Math.atan2(n,i),c=l(o*(180/a))+180,u=Math.min(h(i*i+n*n),s);return{h:c=r.anticlockwise?360-c:c,s:l(100/s*u)}},u.prototype.checkHit=function(t,e){var r=this._opts,s=c(t-r.cX),i=c(e-r.cY);return h(s*s+i*i)<r.r};var p=Math.round,f=Math.floor,v=function(t){this._onChange=!1,this._value={h:void 0,s:void 0,v:void 0},t&&this.set(t)},g={hsv:{configurable:!0},rgb:{configurable:!0},hsl:{configurable:!0},rgbString:{configurable:!0},hexString:{configurable:!0},hslString:{configurable:!0}};v.mix=function(t,s,i){var n=e(t).rgb,o=e(s).rgb;return i=r(i/100||.5,0,1),new v({r:f(n.r+(o.r-n.r)*i),g:f(n.g+(o.g-n.g)*i),b:f(n.b+(o.b-n.b)*i)})},v.lighten=function(t,s){var i=e(t),n=i.hsv;return n.v=r(n.v+s,0,100),i.hsv=n,i},v.darken=function(t,s){var i=e(t),n=i.hsv;return n.v=r(n.v-s,0,100),i.hsv=n,i},v.hsv2Rgb=function(t){var e,r,s,i,n,o,a,h,c=t.h/360,l=t.s/100,u=t.v/100;switch(o=u*(1-l),a=u*(1-(n=6*c-(i=f(6*c)))*l),h=u*(1-(1-n)*l),i%6){case 0:e=u,r=h,s=o;break;case 1:e=a,r=u,s=o;break;case 2:e=o,r=u,s=h;break;case 3:e=o,r=a,s=u;break;case 4:e=h,r=o,s=u;break;case 5:e=u,r=o,s=a}return{r:p(255*e),g:p(255*r),b:p(255*s)}},v.rgb2Hsv=function(t){var e,r=t.r/255,s=t.g/255,i=t.b/255,n=Math.max(r,s,i),o=Math.min(r,s,i),a=n-o;switch(n){case o:e=0;break;case r:e=(s-i)/a+(s<i?6:0);break;case s:e=(i-r)/a+2;break;case i:e=(r-s)/a+4}return{h:360*(e/=6),s:0==n?0:a/n*100,v:100*n}},v.hsv2Hsl=function(t){var e=t.s/100,r=t.v/100,s=.5*r*(2-e);return e=r*e/(1-Math.abs(2*s-1)),{h:t.h,s:100*e||0,l:100*s}},v.hsl2Hsv=function(t){var e=t.s/100,r=t.l/100;return e*=(r*=2)<=1?r:2-r,{h:t.h,s:2*e/(r+e)*100,v:(r+e)/2*100}},v.hsl2Str=function(t){return"hsl"+(t.a?"a":"")+"("+t.h+", "+t.s+"%, "+t.l+"%"+(t.a?", "+t.a:"")+")"},v.rgb2Str=function(t){return"rgb"+(t.a?"a":"")+"("+t.r+", "+t.g+", "+t.b+(t.a?", "+t.a:"")+")"},v.rgb2Hex=function(t){var e="#";return e+=t.r.toString(16).padStart(2,"0"),e+=t.g.toString(16).padStart(2,"0"),e+=t.b.toString(16).padStart(2,"0")},v.parseHexStr=function(t){t=t.replace("#","");var e=parseInt("0x"+t),r=3==t.length,s=r?15:255,i=r?4:8,n=r?17:1;return{r:(e>>2*i&s)*n,g:(e>>i&s)*n,b:(e&s)*n}},v.parseHslStr=function(e){var r=t(e,[360,100,100]);return{h:r[2],s:r[3],l:r[4]}},v.parseRgbStr=function(e){var r=t(e,[255,255,255]);return{r:r[1],g:r[2],b:r[3]}},g.hsv.get=function(){var t=this._value;return{h:t.h,s:t.s,v:t.v}},g.hsv.set=function(t){if(this._onChange){var e=this._value;for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);var i=s(e,t);this._value=t,(i.h||i.s||i.v)&&this._onChange(this,i)}else this._value=t},g.rgb.get=function(){var t=v.hsv2Rgb(this._value);return{r:p(t.r),g:p(t.g),b:p(t.b)}},g.rgb.set=function(t){this.hsv=v.rgb2Hsv(t)},g.hsl.get=function(){var t=v.hsv2Hsl(this._value);return{h:p(t.h),s:p(t.s),l:p(t.l)}},g.hsl.set=function(t){this.hsv=v.hsl2Hsv(t)},g.rgbString.get=function(){return v.rgb2Str(this.rgb)},g.rgbString.set=function(t){this.rgb=v.parseRgbStr(t)},g.hexString.get=function(){return v.rgb2Hex(this.rgb)},g.hexString.set=function(t){this.rgb=v.parseHexStr(t)},g.hslString.get=function(){return v.hsl2Str(this.hsl)},g.hslString.set=function(t){this.hsl=v.parseHslStr(t)},v.prototype.set=function(t){"object"==typeof t?t instanceof v?this.hsv=v.hsv:"r"in t?this.rgb=t:"v"in t?this.hsv=t:"l"in t&&(this.hsl=t):"string"==typeof t&&(/^rgb/.test(t)?this.rgbString=t:/^hsl/.test(t)?this.hslString=t:/^#[0-9A-Fa-f]/.test(t)&&(this.hexString=t))},v.prototype.setChannel=function(t,e,r){var s=this[t];s[e]=r,this[t]=s},v.prototype.clone=function(){return new v(this)},v.prototype.compare=function(t,r){return s(this[r=r||"hsv"],e(t)[r])},v.prototype.mix=function(t,e){this.hsv=mix(this,t,e).hsv},v.prototype.lighten=function(t){lighten(this,t)},v.prototype.darken=function(t){darken(this,t)},Object.defineProperties(v.prototype,g);var d=function(t,e){var r=e.r,s=e.w,i=e.h,n=e.x,a=e.y,h=e.border.w;e.range={min:n+r,max:n+s-r,w:s-2*r},e.sliderType=e.sliderType||"v",this.type="slider",this._opts=e;var c=r+h/2,l=t.g({class:"iro__slider"}),u=l.insert("rect",{class:"iro__slider__value",rx:c,ry:c,x:n-h/2,y:a-h/2,width:s+h,height:i+h,strokeWidth:h,stroke:e.border.color});u.setGradient("fill",t.gradient("linear",{0:{color:"#000"},100:{color:"#fff"}})),this._gradient=u.gradient,this.marker=new o(l,e.marker)};d.prototype.update=function(t,e){var r=this._opts,s=r.range,i=t.hsv,n=v.hsv2Hsl({h:i.h,s:i.s,v:100});if("v"==r.sliderType&&((e.h||e.s)&&this._gradient.stops[1].setAttrs({stopColor:"hsl("+n.h+","+n.s+"%,"+n.l+"%)"}),e.v)){var o=i.v/100;this.marker.move(s.min+o*s.w,r.y+r.h/2)}},d.prototype.input=function(t,e){var r=this._opts.range,s=Math.max(Math.min(t,r.max),r.min)-r.min;return{v:Math.round(100/r.w*s)}},d.prototype.checkHit=function(t,e){var r=this._opts;return t>r.x&&t<r.x+r.w&&e>r.y&&e<r.y+r.h};var m=0,_={class:"class",stroke:"stroke",strokeWidth:"stroke-width",fill:"fill",opacity:"opacity",offset:"offset",stopColor:"stop-color",stopOpacity:"stop-opacity"},y={translate:"setTranslate",scale:"setScale",rotate:"setRotate"},b=window.navigator.userAgent.toLowerCase(),w=/msie|trident|edge/.test(b),k=/^((?!chrome|android).)*safari/i.test(b),S=function(t,e,r,s){var i=document.createElementNS("http://www.w3.org/2000/svg",r);this.el=i,this.setAttrs(s),(e.el||e).appendChild(i),this._root=t,this._svgTransforms={},this._transformList=!!i.transform&&i.transform.baseVal};S.prototype.insert=function(t,e){return new S(this._root,this,t,e)},S.prototype.g=function(t){return this.insert("g",t)},S.prototype.arc=function(t,e,r,s,i,n){var o=i-s<=180?0:1;s*=Math.PI/180,i*=Math.PI/180;var a=t+r*Math.cos(i),h=e+r*Math.sin(i),c=t+r*Math.cos(s),l=e+r*Math.sin(s);return(n=n||{}).d=["M",a,h,"A",r,r,0,o,0,c,l].join(" "),this.insert("path",n)},S.prototype.circle=function(t,e,r,s){return(s=s||{}).cx=t,s.cy=e,s.r=r,this.insert("circle",s)},S.prototype.setTransform=function(t,e){if(w)this.setAttrs({transform:t+"("+e.join(", ")+")"});else{var r,s=this._svgTransforms;s[t]?r=s[t]:(r=this._root.el.createSVGTransform(),s[t]=r,this._transformList.appendItem(r)),r[t in y?y[t]:t].apply(r,e)}},S.prototype.setAttrs=function(t){for(var e in t){var r=e in _?_[e]:e;this.el.setAttribute(r,t[e])}},S.prototype.setGradient=function(t,e){var r={};r[t]=e.getUrl(),e._refs[t]=this,this.gradient=e,this.setAttrs(r)};var x=function(t,e,r){var s=[],i=t._defs.insert(e+"Gradient",{id:"iroGradient"+m++});for(var n in r){var o=r[n];s.push(i.insert("stop",{offset:n+"%",stopColor:o.color,stopOpacity:void 0===o.opacity?1:o.opacity}))}this.el=i.el,this.stops=s,this._refs={}};x.prototype.getUrl=function(t){return"url("+(k?t||location.protocol+"//"+location.host+location.pathname:"")+"#"+this.el.id+")"};var M=function(t){function e(e,r,s,i){t.call(this,null,e,"svg",{width:r,height:s,style:"display:"+(i||"block")+";touch-action:none"}),this._root=this,this._defs=this.insert("defs"),this._gradients=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.gradient=function(t,e){var r=new x(this,t,e);return this._gradients.push(r),r},e.prototype.updateUrls=function(t){if(k)for(var e=this._gradients,r=0;r<e.length;r++)for(var s in e[r]._refs){var i={};i[s]=e[r].getUrl(t),e[r]._refs[s].setAttrs(i)}},e}(S),C=function(){var t=document.createElement("style");document.head.appendChild(t),t.appendChild(document.createTextNode("")),this.style=t;var e=t.sheet;this.sheet=e,this.rules=e.rules||e.cssRules,this.map={}},T={enabled:{configurable:!0},cssText:{configurable:!0},css:{configurable:!0}};T.enabled.get=function(){return!this.sheet.disabled},T.enabled.set=function(t){this.sheet.disabled=!t},T.cssText.get=function(){var t=this.map,e=[];for(var r in t)e.push(r.replace(/,\W/g,",\n")+" {\n\t"+t[r].cssText.replace(/;\W/g,";\n\t")+"\n}");return e.join("\n")},T.css.get=function(){var t=this.map,e={};for(var r in t){var s=t[r];e[r]={};for(var i=0;i<s.length;i++){var n=s[i];e[r][n]=s.getPropertyValue(n)}}return e},C.prototype.setRule=function(t,e,r){var s=this.sheet,i=s.rules||s.cssRules,n=this.map;if(e=e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}),n.hasOwnProperty(t))n[t].setProperty(e,r);else{var o=i.length,a=e+": "+r;try{s.insertRule(t+" {"+a+";}",o)}catch(e){s.addRule(t,a,o)}finally{i=s.rules||s.cssRules,n[t]=i[o].style}}},Object.defineProperties(C.prototype,T);var H="readystatechange",A="complete",R=function(t,e){var r,s=this;e=e||{},this._events={},this._mouseTarget=!1,this._colorChangeActive=!1,this.css=e.css||e.styles||void 0,r=function(){s._mount(t,e)},document.readyState==A?r():i(document,[H],function t(e){document.readyState==A&&(r(),n(document,[H],t))})};return R.prototype._mount=function(t,e){var r=this;t="string"==typeof t?document.querySelector(t):t;var s=parseInt(getComputedStyle(t).width),n=parseInt(getComputedStyle(t).height);n<s&&0!=n?s=n:0!=s&&(n=s);var o=e.width||s||320,a=e.height||n||320,h=e.padding+2||6,c=e.borderWidth||0,l=e.markerRadius||8,p=e.sliderMargin||24,f=e.sliderHeight||2*l+2*h+2*c,g=Math.min(a-f-p,o),m=g/2-c,_=(o-g)/2,y={r:l},b={w:c,color:e.borderColor||"#fff"};this.el=t,this.svg=new M(t,o,a,e.display),this.ui=[new u(this.svg,{cX:_+g/2,cY:g/2,r:m,rMax:m-(l+h),marker:y,border:b,lightness:void 0==e.wheelLightness||e.wheelLightness,anticlockwise:e.anticlockwise}),new d(this.svg,{sliderType:"v",x:_+c,y:g+p,w:g-2*c,h:f-2*c,r:f/2-c,marker:y,border:b})],this.stylesheet=new C,this.color=new v,this.color._onChange=this._update.bind(this),this.color.set(e.color||e.defaultValue||"#fff"),this.on("history:stateChange",function(t){r.svg.updateUrls(t)}),i(this.svg.el,["mousedown","touchstart"],this,{passive:!1}),this.emit("mount",this)},R.prototype._update=function(t,e){for(var r=t.rgbString,s=this.css,i=0;i<this.ui.length;i++)this.ui[i].update(t,e);for(var n in s){var o=s[n];for(var a in o)this.stylesheet.setRule(n,a,r)}this._colorChangeActive||(this._colorChangeActive=!0,this.emit("color:change",t,e),this._colorChangeActive=!1)},R.prototype.on=function(t,e){var r=this._events;(r[t]||(r[t]=[])).push(e)},R.prototype.off=function(t,e){var r=this._events[t];r&&r.splice(r.indexOf(e),1)},R.prototype.emit=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var s=this._events,i=(s[t]||[]).concat(s["*"]||[]),n=0;n<i.length;n++)i[n].apply(null,e)},R.prototype.handleEvent=function(t){var e=t.touches?t.changedTouches[0]:t,r=this.svg.el.getBoundingClientRect(),s=e.clientX-r.left,o=e.clientY-r.top;switch(t.type){case"mousedown":case"touchstart":for(var a=0;a<this.ui.length;a++){var h=this.ui[a];h.checkHit(s,o)&&(this._mouseTarget=h,i(document,["mousemove","touchmove","mouseup","touchend"],this,{passive:!1}),this.emit("input:start",this.color),this.color.hsv=this._mouseTarget.input(s,o))}break;case"mousemove":case"touchmove":this.color.hsv=this._mouseTarget.input(s,o);break;case"mouseup":case"touchend":this._mouseTarget=!1,this.emit("input:end",this.color),n(document,["mousemove","touchmove","mouseup","touchend"],this)}this._mouseTarget&&t.preventDefault()},{Color:v,ColorPicker:R,Stylesheet:C,version:"3.5.3"}})</script><script>!function(e,n){"function"==typeof define&&define.amd?define([],n):"undefined"!=typeof module&&module.exports?module.exports=n():e.ReconnectingWebSocket=n()}(this,function(){function e(n,t,o){function c(e,n){var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,n),t}var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3};o||(o={});for(var r in i)this[r]="undefined"!=typeof o[r]?o[r]:i[r];this.url=n,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var s,u=this,d=!1,a=!1,l=document.createElement("div");l.addEventListener("open",function(e){u.onopen(e)}),l.addEventListener("close",function(e){u.onclose(e)}),l.addEventListener("connecting",function(e){u.onconnecting(e)}),l.addEventListener("message",function(e){u.onmessage(e)}),l.addEventListener("error",function(e){u.onerror(e)}),this.addEventListener=l.addEventListener.bind(l),this.removeEventListener=l.removeEventListener.bind(l),this.dispatchEvent=l.dispatchEvent.bind(l),this.open=function(n){s=new WebSocket(u.url,t||[]),n||l.dispatchEvent(c("connecting")),(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",u.url);var o=s,i=setTimeout(function(){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",u.url),a=!0,o.close(),a=!1},u.timeoutInterval);s.onopen=function(){clearTimeout(i),(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onopen",u.url),u.protocol=s.protocol,u.readyState=WebSocket.OPEN,u.reconnectAttempts=0;var t=c("open");t.isReconnect=n,n=!1,l.dispatchEvent(t)},s.onclose=function(t){if(clearTimeout(i),s=null,d)u.readyState=WebSocket.CLOSED,l.dispatchEvent(c("close"));else{u.readyState=WebSocket.CONNECTING;var o=c("connecting");o.code=t.code,o.reason=t.reason,o.wasClean=t.wasClean,l.dispatchEvent(o),n||a||((u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onclose",u.url),l.dispatchEvent(c("close")));var i=u.reconnectInterval*Math.pow(u.reconnectDecay,u.reconnectAttempts);setTimeout(function(){u.reconnectAttempts++,u.open(!0)},i>u.maxReconnectInterval?u.maxReconnectInterval:i)}},s.onmessage=function(n){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",u.url,n.data);var t=c("message");t.data=n.data,l.dispatchEvent(t)},s.onerror=function(n){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onerror",u.url,n),l.dispatchEvent(c("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(n){if(s)return(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","send",u.url,n),s.send(n);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,n){"undefined"==typeof e&&(e=1e3),d=!0,s&&s.close(e,n)},this.refresh=function(){s&&s.close()}}return e.prototype.onopen=function(){},e.prototype.onclose=function(){},e.prototype.onconnecting=function(){},e.prototype.onmessage=function(){},e.prototype.onerror=function(){},e.debugAll=!1,e.CONNECTING=WebSocket.CONNECTING,e.OPEN=WebSocket.OPEN,e.CLOSING=WebSocket.CLOSING,e.CLOSED=WebSocket.CLOSED,e})</script><script>var wsc,ledcolor={r:255,g:255,b:255};document.addEventListener("DOMContentLoaded",function(){(wsc=new ReconnectingWebSocket("ws://"+window.location.hostname+"/ws")).timeoutInterval=3e3,wsc.onopen=function(e){console.log("WebSocketClient connected:",e)},wsc.onmessage=function(e,o,r){console.log("WebSocketClient message #${number}: ",e);var n=JSON.parse(e.data);ledcolor.r=n.colorRGB.r,ledcolor.g=n.colorRGB.g,ledcolor.b=n.colorRGB.b,colorPicker.color.rgb=ledcolor,document.getElementById("brightness").value=Math.round(n.level/2.55),document.getElementById("br").innerHTML=Math.round(n.level/2.55),1==n.state?document.getElementById("onoff").checked=!0:document.getElementById("onoff").checked=!1},document.getElementById("color_r").onchange=function(e){var o=e.target.value,r=colorPicker.color.rgb;colorPicker.color.rgb={r:o,g:r.g,b:r.b};var n={color:{r:r.r,g:r.g,b:r.b}};wsc.send(JSON.stringify(n))},document.getElementById("color_g").onchange=function(e){var o=e.target.value,r=colorPicker.color.rgb;colorPicker.color.rgb={r:r.r,g:o,b:r.b};var n={color:{r:r.r,g:r.g,b:r.b}};wsc.send(JSON.stringify(n))},document.getElementById("color_b").onchange=function(e){var o=e.target.value,r=colorPicker.color.rgb;colorPicker.color.rgb={r:r.r,g:r.g,b:o};var n={color:{r:r.r,g:r.g,b:r.b}};wsc.send(JSON.stringify(n))},document.getElementById("br").innerHTML=document.getElementById("brightness").value,document.getElementById("brightness").onchange=function(e){document.getElementById("br").innerHTML=e.target.value;var o={level:Math.round(Number(2.55*e.target.value))};wsc.send(JSON.stringify(o))},document.getElementById("onoff").onchange=function(){var e;e=document.getElementById("onoff").checked?{state:!0}:{state:!1},wsc.send(JSON.stringify(e))}});var colorPicker=new iro.ColorPicker("#color-picker-container",{width:320,height:320,color:{r:ledcolor.r,g:ledcolor.g,b:ledcolor.b},anticlockwise:!0,borderWidth:1,borderColor:"#fff",css:{"#swatch":{"background-color":"$color"}}});colorPicker.on("color:change",function(e){document.getElementById("color_r").value=e.rgb.r,document.getElementById("color_g").value=e.rgb.g,document.getElementById("color_b").value=e.rgb.b,document.getElementById("values_r").innerHTML=e.rgb.r,document.getElementById("values_g").innerHTML=e.rgb.g,document.getElementById("values_b").innerHTML=e.rgb.b}),colorPicker.on("input:end",function(e){var o={color:{r:e.rgb.r,g:e.rgb.g,b:e.rgb.b}};wsc.send(JSON.stringify(o))})</script></head><body><h1 class="lightStatus"></h1><div class="wrap"><div class="half"><div id="color-picker-container"></div></div><div class="half readout"><section><input type="checkbox" id="onoff"><label for="onoff"></label><p>ON</p><p>OFF</p></section><div id="swatch"></div><br><div class="slidecontainer"><div id="values_r" class="rval"></div><input type="range" min="0" max="255" class="sliderr" id="color_r"><div id="values_g" class="gval"></div><input type="range" min="0" max="255" class="sliderg" id="color_g"><div id="values_b" class="bval"></div><input type="range" min="0" max="255" class="sliderb" id="color_b"></div></div></div><div class="slidecontainer"><span class="title">Brightness: <span id="br"></span>%</span> <input type="range" min="0" max="100" class="general" id="brightness"></div><script></script></body></html>